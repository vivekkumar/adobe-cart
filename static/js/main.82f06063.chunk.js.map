{"version":3,"sources":["ui/components/CartIcon.js","store/actions/searchActions.js","store/actions/actionTypes.js","ui/components/Search.js","ui/components/Header.js","ui/components/ShoppingItem.js","slayer/shoppingList/index.js","slayer/fetchService.js","store/actions/shoppintListActions.js","store/actions/cartActions.js","ui/screens/Home/index.js","ui/components/CartItem.js","ui/components/PriceDetails.js","ui/screens/Cart/index.js","App.js","serviceWorker.js","store/reducers/shoppingListReducer.js","store/reducers/index.js","store/reducers/cartReducer.js","store/reducers/searchReducer.js","store/index.js","index.js"],"names":["cartItemCount","icon","faShoppingCart","size","color","className","setSearchQuery","query","dispatch","type","payload","connect","state","searchQuery","value","onChange","e","target","faSearch","cart","length","to","faStar","CartIcon","item","addToCart","name","price","discount","src","alt","actual","display","onClick","fetchShoppingList","url","Promise","resolve","reject","fetch","then","r","json","catch","handleFailure","console","log","getShoppingList","message","items","handleSuccess","removeFromCart","deleteAll","Home","props","this","getShpopingItems","resetSearch","error","loading","faSort","faFilter","map","index","key","ShoppingItem","React","Component","getSearchedItems","filter","indexOf","shoppingList","cartItem","itemGroup","onRemoveAll","onCountChange","count","handleCountChange","amount","newCount","style","width","faMinusCircle","faPlusCircle","amountPayable","totalPrice","totalDisplay","i","Cart","removeItemFromCart","removeItem","removeAll","removeGroup","addItemToCart","updateCount","groupItem","group","CartItem","PriceDetails","groupCartItems","Object","values","App","path","Boolean","window","location","hostname","match","initialState","combineReducers","action","s","itemIndex","findIndex","splice","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.82f06063.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faShoppingCart } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport default ({ cartItemCount }) => {\r\n  return (\r\n    <>\r\n      <FontAwesomeIcon icon={faShoppingCart} size=\"2x\" color=\"#fff\" />\r\n      {cartItemCount > 0 && (\r\n        <span className=\"badge font-weight-normal badge-danger rounded-pill position-absolute ml-n2 mt-n2 cart-icon\">\r\n          {cartItemCount}\r\n        </span>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import { SET_SEARCH_QUERY } from \"./actionTypes\";\r\n\r\nexport const setSearchQuery = query => {\r\n  return dispatch => {\r\n    dispatch({ type: SET_SEARCH_QUERY, payload: query });\r\n  };\r\n};\r\n","export const SHOPPING_LIST_FETCHING = \"SHOPPING_LIST_FETCHING\";\r\nexport const SHOPPING_LIST_SUCCESS = \"SHOPPING_LIST_SUCCESS\";\r\nexport const SHOPPING_LIST_FAILURE = \"SHOPPING_LIST_FAILURE\";\r\n\r\nexport const ADD_ITEM_TO_CART = \"ADD_ITEM_TO_CART\";\r\nexport const REMOVE_ITEM_FROM_CART = \"REMOVE_ITEM_FROM_CART\";\r\nexport const REMOVE_ITEM_GROUP_FROM_CART = \"REMOVE_ITEM_GROUP_FROM_CART\";\r\n\r\nexport const SET_SEARCH_QUERY = \"SET_SEARCH_QUERY\";\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport { setSearchQuery } from \"../../store/actions/searchActions\";\r\n\r\nconst Search = ({ query, dispatch }) => {\r\n  const handleChange = e => {\r\n    dispatch(setSearchQuery(e.target.value));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        type=\"text\"\r\n        className=\"bg-transparent border border-top-0 border-left-0 border-right-0 border-bottom-1 border-light\"\r\n        value={query}\r\n        onChange={handleChange}\r\n      />\r\n      <FontAwesomeIcon icon={faSearch} size=\"2x\" color=\"#fff\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  state => {\r\n    return { query: state.searchQuery };\r\n  },\r\n  null\r\n)(Search);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faStar } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport CartIcon from \"./CartIcon\";\r\nimport Search from \"./Search\";\r\n\r\nfunction Header({ cartItemCount }) {\r\n  return (\r\n    <div className=\"row bg-primary py-3\">\r\n      <div className=\"col-1\">\r\n        <Link to=\"/\">\r\n          <FontAwesomeIcon\r\n            icon={faStar}\r\n            size=\"3x\"\r\n            color=\"#fff\"\r\n            className=\"text-warning\"\r\n          />\r\n        </Link>\r\n      </div>\r\n      <div className=\"col-11 text-right pt-2\">\r\n        <Search />\r\n        <Link to=\"/cart\" className=\"mx-3\">\r\n          <CartIcon cartItemCount={cartItemCount} />\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    cartItemCount: state.cart.length\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import React from \"react\";\r\n\r\nexport default ({ item, addToCart }) => {\r\n  const { name, price, discount } = item;\r\n  return (\r\n    <div>\r\n      <div className=\"text-center\">\r\n        <img\r\n          className=\"img-fluid\"\r\n          src=\"https://picsum.photos/200/250\"\r\n          alt={name}\r\n        />\r\n      </div>\r\n      <p>{name}</p>\r\n      <div className=\"row\">\r\n        <div className=\"col-3 font-weight-bold\">&#8377;{price.actual}</div>\r\n        <div className=\"col-3 text-muted\">\r\n          <del>{price.display}</del>\r\n        </div>\r\n        <div className=\"col-6 font-weight-bold text-success text-right font\">{`${discount}% off`}</div>\r\n      </div>\r\n      <div className=\"my-4 text-center\">\r\n        <button\r\n          className=\"btn btn-large btn-warning rounded-pill font-weight-bold\"\r\n          onClick={() => addToCart(item)}\r\n        >\r\n          Add to Cart\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { get } from \"../fetchService\";\r\n\r\nexport const fetchShoppingList = () => {\r\n  return get(\"https://api.jsonbin.io/b/5e8c3a45af7c476bc47e477d\");\r\n};\r\n","export const get = url => {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(url)\r\n      .then(r => {\r\n        resolve(r.json());\r\n      })\r\n      .catch(e => {\r\n        reject(e);\r\n      });\r\n  });\r\n};\r\n","import { fetchShoppingList } from \"../../slayer/shoppingList\";\r\nimport {\r\n  SHOPPING_LIST_FETCHING,\r\n  SHOPPING_LIST_SUCCESS,\r\n  SHOPPING_LIST_FAILURE\r\n} from \"./actionTypes\";\r\n\r\nconst handleSuccess = (dispatch, r) => {\r\n  console.log(\"success\", r);\r\n  dispatch({ type: SHOPPING_LIST_FETCHING, payload: false });\r\n  dispatch({ type: SHOPPING_LIST_SUCCESS, payload: r.items });\r\n};\r\n\r\nconst handleFailure = (dispatch, e) => {\r\n  console.log(\"error\", e);\r\n  dispatch({ type: SHOPPING_LIST_FETCHING, payload: false });\r\n  dispatch({ type: SHOPPING_LIST_FAILURE, payload: e });\r\n};\r\n\r\nexport const getShoppingList = () => {\r\n  return dispatch => {\r\n    dispatch({ type: SHOPPING_LIST_FETCHING, payload: true });\r\n\r\n    fetchShoppingList()\r\n      .then(r => {\r\n        if (r.message) {\r\n          handleFailure(dispatch, r.message);\r\n        } else {\r\n          handleSuccess(dispatch, r);\r\n        }\r\n      })\r\n      .catch(e => {\r\n        handleFailure(dispatch, e.message);\r\n      });\r\n  };\r\n};\r\n","import {\r\n  ADD_ITEM_TO_CART,\r\n  REMOVE_ITEM_FROM_CART,\r\n  REMOVE_ITEM_GROUP_FROM_CART\r\n} from \"./actionTypes\";\r\n\r\nexport function addToCart(item) {\r\n  return dispatch => {\r\n    dispatch({ type: ADD_ITEM_TO_CART, payload: item });\r\n  };\r\n}\r\n\r\nexport function removeFromCart(item, deleteAll = false) {\r\n  return dispatch => {\r\n    if (!deleteAll) {\r\n      dispatch({ type: REMOVE_ITEM_FROM_CART, payload: item });\r\n    } else {\r\n      dispatch({ type: REMOVE_ITEM_GROUP_FROM_CART, payload: item });\r\n    }\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport ShoppingItem from \"../../components/ShoppingItem\";\r\n\r\nimport { getShoppingList } from \"../../../store/actions/shoppintListActions\";\r\nimport { setSearchQuery } from \"../../../store/actions/searchActions\";\r\nimport { addToCart } from \"../../../store/actions/cartActions\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSort } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faFilter } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nclass Home extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getShpopingItems();\r\n    this.props.resetSearch();\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.props.resetSearch();\r\n  }\r\n\r\n  addToCart = item => {\r\n    this.props.addToCart(item);\r\n  };\r\n\r\n  render() {\r\n    const { items, error, loading } = this.props;\r\n    return (\r\n      <>\r\n        <div className=\"row text-center d-md-none\">\r\n          <div className=\"col-6 border-right py-2\">\r\n            <h4>\r\n              <FontAwesomeIcon icon={faSort} className=\"mr-1\" />\r\n              <small>Sort</small>\r\n            </h4>\r\n          </div>\r\n          <div className=\"col-6 py-2\">\r\n            <h4>\r\n              <FontAwesomeIcon icon={faFilter} size=\"xs\" className=\"mr-1\" />\r\n              <small>Filter</small>\r\n            </h4>\r\n          </div>\r\n        </div>\r\n        <div className=\"row border-right border-bottom\">\r\n          <div className=\"col-md-3 col-lg-2\">Side bar filter</div>\r\n          <div className=\"col-md-9 col-lg-10\">\r\n            <div className=\"row text-center d-md-none d-lg-block\">\r\n              <div className=\"col-6 border-right py-2\">MD</div>\r\n            </div>\r\n            <div className=\"row\">\r\n              {items &&\r\n                items.map((item, index) => (\r\n                  <div\r\n                    className=\"col-6 col-md-4 col-xl-2 border-top border-left pt-3\"\r\n                    key={index}\r\n                  >\r\n                    <ShoppingItem item={item} addToCart={this.addToCart} />\r\n                  </div>\r\n                ))}\r\n            </div>\r\n\r\n            {error && <div className=\"col-12 color-red\">{error}</div>}\r\n            {loading && <div className=\"col-12\">{loading}</div>}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst getSearchedItems = (items, searchQuery) => {\r\n  return items.filter(item => item.name.indexOf(searchQuery) > -1);\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  const { items, error, loading } = state.shoppingList;\r\n  const { searchQuery } = state;\r\n  return {\r\n    items: getSearchedItems(items, searchQuery),\r\n    error,\r\n    loading,\r\n    searchQuery\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addToCart: cartItem => dispatch(addToCart(cartItem)),\r\n    getShpopingItems: () => dispatch(getShoppingList()),\r\n    resetSearch: () => dispatch(setSearchQuery(\"\"))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Home);\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPlusCircle, faMinusCircle } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport default ({ itemGroup, onRemoveAll, onCountChange }) => {\r\n  const { item, count } = itemGroup;\r\n  const { name, price, discount } = item;\r\n\r\n  const handleCountChange = amount => {\r\n    const newCount = count + amount;\r\n    newCount > 0 && onCountChange(itemGroup, newCount);\r\n  };\r\n\r\n  return (\r\n    <div className=\"col card\">\r\n      <div className=\"row py-3\">\r\n        <img\r\n          className=\"col-5 col-md-2 img-fluid\"\r\n          src=\"https://picsum.photos/200/250\"\r\n          alt={name}\r\n        />\r\n\r\n        <div className=\"col-7 col-md-10\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-4\">\r\n              <p>{name}</p>\r\n              <div>\r\n                <strong>&#8377;{price.actual}</strong>\r\n                &nbsp;&nbsp;<del className=\"text-muted\">{price.display}</del>\r\n                &nbsp;&nbsp;\r\n                <strong className=\"text-success\">{`${discount}% off`}</strong>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-4\">\r\n              <div className=\"input-group\" style={{ width: \"120px\" }}>\r\n                <div className=\"input-group-prepend\">\r\n                  <span\r\n                    className=\"input-group-text\"\r\n                    onClick={() => handleCountChange(-1)}\r\n                  >\r\n                    <FontAwesomeIcon icon={faMinusCircle} />\r\n                  </span>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control text-center\"\r\n                  value={count}\r\n                />\r\n                <div className=\"input-group-append\">\r\n                  <span\r\n                    className=\"input-group-text cursor-pointer\"\r\n                    onClick={() => handleCountChange(1)}\r\n                  >\r\n                    <FontAwesomeIcon icon={faPlusCircle} />\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-4 my-1\">\r\n              <h5\r\n                className=\"font-weight-bold\"\r\n                onClick={() => onRemoveAll(item)}\r\n              >\r\n                REMOVE\r\n              </h5>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default ({ itemGroup }) => {\r\n  let totalPrice = 0;\r\n  let totalDisplay = 0;\r\n  let totalDiscount = 0;\r\n  let amountPayable = 0;\r\n\r\n  for (let i = 0; i < itemGroup.length; i++) {\r\n    let count = itemGroup[i].count;\r\n    let item = itemGroup[i].item;\r\n\r\n    totalPrice += item.price.actual * count;\r\n    totalDisplay += item.price.display * count;\r\n  }\r\n  totalDiscount = totalDisplay - totalPrice;\r\n  amountPayable = totalDisplay - totalDiscount;\r\n  return (\r\n    <div>\r\n      <h5 className=\"border-bottom py-2 font-weight-bold text-muted\">\r\n        PRICE DETAILS\r\n      </h5>\r\n      <div className=\"row\">\r\n        <div className=\"col-6\">Price ({itemGroup.length} item)</div>\r\n        <div className=\"col-6\">{totalDisplay}</div>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-6\">Discount</div>\r\n        <div className=\"col-6\">{totalDisplay - totalPrice}</div>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-6\">Total Payable</div>\r\n        <div className=\"col-6\">{amountPayable}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { addToCart, removeFromCart } from \"../../../store/actions/cartActions\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport CartItem from \"../../components/CartItem\";\r\nimport PriceDetails from \"../../components/PriceDetails\";\r\n\r\nclass Cart extends React.Component {\r\n  removeItemFromCart = item => {\r\n    this.props.removeItem(item);\r\n  };\r\n\r\n  removeAll = item => {\r\n    this.props.removeGroup(item);\r\n  };\r\n\r\n  addItemToCart = item => {\r\n    this.props.addToCart(item);\r\n  };\r\n\r\n  updateCount = (groupItem, newCount) => {\r\n    console.log(groupItem, newCount);\r\n    if (groupItem.count < newCount) {\r\n      this.addItemToCart(groupItem.item);\r\n    } else if (groupItem.count > newCount) {\r\n      this.removeItemFromCart(groupItem.item);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { itemGroup } = this.props;\r\n    return (\r\n      <div className=\"container mt-2\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8\">\r\n            {itemGroup &&\r\n              itemGroup.map((group, index) => (\r\n                <div className=\"row mb-2\" key={index}>\r\n                  <CartItem\r\n                    itemGroup={group}\r\n                    onRemoveAll={this.removeAll}\r\n                    onCountChange={this.updateCount}\r\n                  />\r\n                </div>\r\n              ))}\r\n\r\n            {itemGroup.length === 0 && (\r\n              <div className=\"col text-center p-4\">\r\n                <h2 className=\"\">No Items found!</h2>\r\n                <Link to=\"/\">Keep Shopping</Link>\r\n              </div>\r\n            )}\r\n          </div>\r\n          {itemGroup.length !== 0 && (\r\n            <div className=\"col-md-4\">\r\n              <PriceDetails itemGroup={itemGroup} />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst groupCartItems = cart => {\r\n  let group = {};\r\n\r\n  for (let i = 0; i < cart.length; i++) {\r\n    let name = cart[i].name;\r\n    if (!group[name]) {\r\n      group[name] = {\r\n        item: cart[i],\r\n        count: 0\r\n      };\r\n    }\r\n    group[name].count++;\r\n  }\r\n\r\n  return Object.values(group);\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    itemGroup: groupCartItems(state.cart)\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addToCart: cartItem => dispatch(addToCart(cartItem)),\r\n    removeItem: item => dispatch(removeFromCart(item)),\r\n    removeGroup: item => dispatch(removeFromCart(item, true))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Cart);\r\n","import React from \"react\";\nimport Header from \"./ui/components/Header\";\nimport Home from \"./ui/screens/Home/\";\nimport Cart from \"./ui/screens/Cart/\";\n\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <div className=\"container-fluid\">\n      <Router>\n        <Header />\n\n        <Switch>\n          <Route path=\"/cart\">\n            <Cart />\n          </Route>\n          <Route path=\"/\">\n            <Home />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as ActionTypes from \"../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  items: [],\r\n  loading: false,\r\n  error: null\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ActionTypes.SHOPPING_LIST_SUCCESS:\r\n      return { ...state, items: action.payload, error: null };\r\n    case ActionTypes.SHOPPING_LIST_FAILURE:\r\n      return { ...state, items: [], error: action.payload };\r\n    case ActionTypes.SHOPPING_LIST_FETCHING:\r\n      return { ...state, loading: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport shoppingList from \"./shoppingListReducer\";\r\nimport cart from \"./cartReducer\";\r\nimport search from \"./searchReducer\";\r\n\r\nexport default combineReducers({\r\n  shoppingList,\r\n  cart,\r\n  searchQuery: search\r\n});\r\n","import * as ActionTypes from \"../actions/actionTypes\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case ActionTypes.ADD_ITEM_TO_CART:\r\n      return [...state, action.payload];\r\n    case ActionTypes.REMOVE_ITEM_FROM_CART:\r\n      let s = [...state];\r\n      const itemIndex = s.findIndex(item => item.name === action.payload.name);\r\n      s.splice(itemIndex, 1);\r\n      return s;\r\n    case ActionTypes.REMOVE_ITEM_GROUP_FROM_CART:\r\n      return [...state].filter(item => item.name !== action.payload.name);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { SET_SEARCH_QUERY } from \"../actions/actionTypes\";\r\n\r\nexport default (state = \"\", action) => {\r\n  switch (action.type) {\r\n    case SET_SEARCH_QUERY:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./main.sass\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}